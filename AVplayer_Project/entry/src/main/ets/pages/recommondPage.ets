import { dailyRecommend, recommendList, swiperList } from "../constants/MusicConstants"
import { RecommendDailyType, RecommendListType } from "../models/Index"

@Entry
@Component
export struct recommondPage {
  /**
   *  ÊêúÁ¥¢Ê°Ü
   */
  @Builder
  SearchInputComponent() {
    Row() {
      Row({ space: 4 }) {
        Image($r('app.media.ic_search'))
          .width(20)
          .aspectRatio(1)
          .fillColor('#7a828e')
        Text('Âê¨Â¶àÂ¶àÁöÑËØùüî•')
          .fontColor('#7a828e')
          .layoutWeight(1)
        Image($r('app.media.ic_code'))
          .width(20)
          .aspectRatio(1)
          .fillColor('#7a828e')
      }
      .width('100%')
      .padding(12)
      .borderRadius(60)
      .backgroundColor('#ffeeee')
    }
    .width('100%')
    .padding(12)
  }

  /**
   * ËΩÆÊí≠Âõæ
   */
  @Builder
  SwipperComponent() {
    Row() {
      Swiper() {
        ForEach(swiperList, (item: string) => {
          Row() {
            Image(item)
              .width('100%')
              .height(160)
          }
          .borderRadius(8)
          .clip(true)
        })
      }
      .autoPlay(true)
    }
    .width('100%')
    .padding(8)
  }

  //Ê†áÈ¢òÈÉ®ÂàÜ
  @Builder TitleBar(title:string){
    //Ê†áÈ¢òÈÉ®ÂàÜ
    Row() {
      Text(title)
        .fontWeight(FontWeight.Bold)
        .fontColor(Color.Gray)
      Text('Êõ¥Â§ö')
        .fontColor(Color.Gray)
    }
    .width('100%')
    .padding(8)
    .justifyContent(FlexAlign.SpaceBetween)
  }

  /**
   * ÊØèÊó•Êé®Ëçê
   */
  @Builder
  DailyRecomment() {
    Column() {
      this.TitleBar('ÊØèÊó•Êé®Ëçê')
      //ÂÜÖÂÆπÈÉ®ÂàÜ
      Row() {
        Scroll() {
          Row({ space: 10 }) {
            ForEach(dailyRecommend, (item: RecommendDailyType) => {
              Column() {
                Text(item.type)
                  .width('100%')
                  .textAlign(TextAlign.Start)
                  .fontColor(Color.White)
                  .fontWeight(FontWeight.Bold)
                  .fontSize(12)
                  .padding(8)
                  .backgroundColor(item.top)
                Image(item.img)
                  .width('100%')
                  .aspectRatio(1)
                Text(item.title)
                  .width('100%')
                  .fontSize(12)
                  .padding(12)
                  .fontColor('#ffe9dfdf')
                  .backgroundColor(item.bottom)
                  .textOverflow({ overflow: TextOverflow.Ellipsis })
                  .maxLines(2)
              }
              .width('40%')
              .borderRadius(8)
              .clip(true)
            })
          }
        }
        .width('100%')
        .scrollBar(BarState.Off)
        .scrollable(ScrollDirection.Horizontal)
      }
    }.padding({left:8,right:8}).clip(true)
  }

  /**
   * Êé®ËçêÊ≠åÂçï
   */
  @Builder
  RecommentListComponent(){
    Column(){
      this.TitleBar('Êé®ËçêÊ≠åÂçï')
      Row(){
        Scroll(){
          Row({space:8}){
            ForEach(recommendList,(item:RecommendListType) => {
              Column(){
                Row(){
                  Image(item.img)
                    .width('100%')
                    .borderRadius(8)
                    .aspectRatio(1)
                  Text(item.count)
                    .fontColor(Color.White)
                    .fontSize(12)
                    .fontWeight(FontWeight.Bold)
                    .position({x:6,y:6})
                }
                Text(item.title)
                  .textAlign(TextAlign.Start)
                  .fontSize(12)
                  .fontColor(Color.Gray)
                  .maxLines(2)
                  .textOverflow({overflow:TextOverflow.Ellipsis})
                  .margin({top:8})
              }
              .width('30%')
              .justifyContent(FlexAlign.SpaceBetween)
            })
          }
        }
        .width('100%')
        .scrollBar(BarState.Off)
        .scrollable(ScrollDirection.Horizontal)
      }
    }.padding({left:8,right:8}).clip(true)
  }
  build() {
    Column() {
      //ÊêúÁ¥¢Ê°Ü
      this.SearchInputComponent()
      //ËΩÆÊí≠Âõæ
      this.SwipperComponent()
      //ÊØèÊó•Êé®Ëçê
      this.DailyRecomment()
      //Êé®ËçêÊ≠åÂçï
      this.RecommentListComponent()
    }
    .width('100%')
    .height('100%')
  }
}